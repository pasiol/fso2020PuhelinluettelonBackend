{"version":3,"sources":["components/FilterForm.jsx","components/Person.jsx","components/Persons.jsx","components/PersonForm.jsx","services/persons.js","components/Notification.jsx","App.jsx","index.jsx"],"names":["FilterForm","filter","onFilterChange","console","log","onChange","value","Person","person","handleDeleteClicked","Fragment","name","number","onClick","Persons","filteredList","id","map","key","PersonForm","addNewName","handleNameChange","handleNumberChange","onSubmit","type","baseURL","axios","get","newObject","post","delete","put","Notification","message","style","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setFilteredList","notification","setNotification","notificationStyle","setNotificationStyle","useEffect","personService","then","response","data","event","target","toLowerCase","includes","preventDefault","nameAlreadyExists","length","alert","window","confirm","setTimeout","catch","error","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9007be44.chunk.js","sourcesContent":["import React from 'react';\n\n// eslint-disable-next-line react/prop-types\nconst FilterForm = ({ filter, onFilterChange }) => {\n  console.log('Component FilterForm props:', filter);\n  return (\n    <>\n      <form>\n        filter shown with\n        <input onChange={onFilterChange} value={filter} />\n      </form>\n    </>\n  );\n};\n\nexport default FilterForm;\n","import React from \"react\";\n\n// eslint-disable-next-line react/prop-types\nconst Person = ({ person, handleDeleteClicked }) => {\n  console.log('Component Person props:', person);\n  return (\n    <React.Fragment>\n        <p>{person.name} {person.number} <button onClick={() => handleDeleteClicked(person)}>delete</button></p>\n    </React.Fragment>\n  );\n};\n\nexport default Person;","import React from \"react\";\nimport Person from \"./Person\";\n\n// eslint-disable-next-line react/prop-types\nconst Persons = ({ filteredList, handleDeleteClicked }) => (\n      <>\n        <h2>Numbers</h2>\n        <div id=\"numbers\">\n          {filteredList.map((person) =>\n            <Person key={person.name} person={person} handleDeleteClicked={handleDeleteClicked} />\n          )}\n        </div>\n      </>\n  );\n\nexport default Persons","import React from \"react\"\n\n// eslint-disable-next-line react/prop-types\nconst PersonForm = ({name, number, addNewName, handleNameChange, handleNumberChange}) => {\n  console.log('Component PersonForm props:', name, number);\n\n  return (\n    <>\n      <form onSubmit={addNewName}>\n        <div>\n          name:\n          <input value={name} onChange={handleNameChange} />\n        </div>\n        <div>\n          number:\n          <input value={number} onChange={handleNumberChange} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </>\n  );\n};\n\nexport default PersonForm;","import axios from 'axios';\n\nconst baseURL = '/api/persons';\n\nconst getAll = () => axios.get(baseURL);\n\nconst create = (newObject) => axios.post(baseURL, newObject);\n\nconst remove = (id) => axios.delete(`${baseURL}/${id}`);\n\nconst update = (id, newObject) => {\n  console.log('put: ', id, newObject);\n  return axios.put(`${baseURL}/${id}`, newObject);\n};\n\nexport default {\n  getAll,\n  create,\n  remove,\n  update,\n};\n","import React from 'react';\n\n// eslint-disable-next-line react/prop-types\nconst Notification = ({ message, style }) => (\n  <div className={style}>\n    {message}\n  </div>\n);\n\nexport default Notification;\n","import React, { useState, useEffect } from 'react';\nimport FilterForm from './components/FilterForm';\nimport Persons from './components/Persons';\nimport PersonForm from './components/PersonForm';\nimport personService from './services/persons';\nimport Notification from './components/Notification';\nimport './style.css';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newFilter, setNewFilter] = useState('');\n  const [filteredList, setFilteredList] = useState(persons);\n  const [notification, setNotification] = useState('');\n  const [notificationStyle, setNotificationStyle] = useState('');\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then((response) => {\n        setPersons(response.data);\n        setFilteredList(response.data);\n      });\n  }, []);\n\n  const addNewName = (event) => {\n    event.preventDefault();\n    console.log('addNewName event happened.', event.target, newName, newNumber);\n    const nameAlreadyExists = persons.filter((person) => person.name === newName);\n    console.log('nameAlreadyExists', nameAlreadyExists);\n    if (nameAlreadyExists.length > 0) {\n      if (newNumber === nameAlreadyExists[0].number) {\n        alert(`${newName} is already added to phonebook!!!`);\n      } else if (window.confirm(`${newName} is already added to phonebook, replace the old number ${nameAlreadyExists[0].number} with a new one ${newNumber}?`)) {\n        personService\n          .update(nameAlreadyExists[0].id, { name: nameAlreadyExists[0].name, number: newNumber, id: nameAlreadyExists[0].id })\n          .then(() => {\n            personService.getAll()\n              .then((response) => {\n                setPersons(response.data);\n                setNewFilter('');\n                setFilteredList(response.data);\n                setTimeout(() => {\n                  setNotification(`Updated contact ${newName} phonenumber to ${newNumber} succesfully.`);\n                  setNotificationStyle('success');\n                  setTimeout(() => {\n                    setNotification('');\n                    setNotificationStyle('');\n                  }, 5000);\n                }, 250);\n              });\n          })\n          .catch((error) => {\n            console.log('Creating a new person: ', error.response.data.error);\n            setTimeout(() => {\n              setNotification(error.response.data.error);\n              setNotificationStyle('error');\n              setTimeout(() => {\n                setNotification('');\n                setNotificationStyle('');\n              }, 5000);\n            }, 250);\n          });\n      }\n    } else {\n      const newPerson = { name: newName, number: newNumber };\n      personService\n        .create(newPerson)\n        .then(() => {\n          personService.getAll()\n            .then((response) => {\n              setPersons(response.data);\n              setNewFilter('');\n              setFilteredList(response.data);\n            });\n          setNewName('');\n          setNewNumber('');\n          setNewFilter('');\n          setTimeout(() => {\n            setNotification(`Added a new contact ${newName} to the phonebook.`);\n            setNotificationStyle('success');\n            setTimeout(() => {\n              setNotification('');\n              setNotificationStyle('');\n            }, 5000);\n          }, 250);\n        })\n        .catch((error) => {\n          console.log('Creating a new person: ', error.response.data.error);\n          setTimeout(() => {\n            setNotification(error.response.data.error);\n            setNotificationStyle('error');\n            setTimeout(() => {\n              setNotification('');\n              setNotificationStyle('');\n            }, 5000);\n          }, 250);\n        });\n    }\n  };\n\n  const handleNameChange = (event) => {\n    console.log('handleNameChange event happened.', event.target);\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = (event) => {\n    console.log('handleNumberChange event happened.', event.target);\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = (event) => {\n    console.log('handleFilterChange event happened.', event.target.value);\n    setNewFilter(event.target.value);\n    setFilteredList(persons.filter((person) => person.name.toLowerCase().includes(event.target.value.toLowerCase())));\n  };\n\n  const handleDeleteClicked = (person) => {\n    console.log('handleDeleteClicked: ', person);\n    if (window.confirm(`Delete ${person.name} ?`)) {\n      personService\n        .remove(person.id)\n        .then(() => {\n          personService\n            .getAll()\n            .then((response) => {\n              setPersons(response.data);\n              setFilteredList(response.data);\n            });\n          setTimeout(() => {\n            setNotification(`The contact ${person.name} is deleted from phonebook.`);\n            setNotificationStyle('success');\n            setTimeout(() => {\n              setNotification('');\n              setNotificationStyle('');\n            }, 5000);\n          }, 250);\n        })\n        .catch(() => {\n          setTimeout(() => {\n            setNotification(`Information of ${person.name} has already been removed from server.`);\n            setNotificationStyle('error');\n            setTimeout(() => {\n              setNotification('');\n              setNotificationStyle('');\n            }, 10000);\n          }, 250);\n          personService\n            .getAll()\n            .then((response) => {\n              setPersons(response.data);\n              setFilteredList(response.data);\n            });\n        });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} style={notificationStyle} />\n      <FilterForm filter={newFilter} onFilterChange={handleFilterChange} />\n      <PersonForm addNewName={addNewName} name={newName} handleNameChange={handleNameChange} number={newNumber} handleNumberChange={handleNumberChange} />\n      <Persons filteredList={filteredList} handleDeleteClicked={handleDeleteClicked} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}